<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Health Tracker Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f7f9fc; color:#333; }
    header { background:#2563eb; color:white; padding:15px; text-align:center; }
    nav { background:#1e3a8a; padding:10px; display:flex; justify-content:center; gap:15px; }
    nav a { color:white; text-decoration:none; padding:8px 12px; border-radius:6px; cursor:pointer; }
    nav a:hover { background:#3b82f6; }
    .container { max-width:900px; margin:20px auto; background:white; padding:20px;
                 border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    h2 { margin-top:0; }
    button { background:#2563eb; border:none; color:white; padding:8px 14px;
             border-radius:6px; cursor:pointer; }
    button:hover { background:#1d4ed8; }
    input, textarea { width:100%; padding:8px; margin:6px 0 12px;
                      border:1px solid #ccc; border-radius:6px; }
    .list-item { padding:10px; border-bottom:1px solid #eee; }
    section { display:none; }
    section.active { display:block; }
  </style>
</head>
<body>
  <header><h1>üåø Health Tracker Dashboard</h1></header>
  <nav>
    <a onclick="showPage('dashboard')">Dashboard</a>
    <a onclick="showPage('meals')">Meals</a>
    <a onclick="showPage('symptoms')">Symptoms</a>
    <a onclick="showPage('meds')">Medications</a>
    <a onclick="showPage('lifestyle')">Lifestyle</a>
    <a onclick="showPage('profile')">Profile</a>
    <a onclick="showPage('suggestions')">Suggestions</a>
  </nav>

  <!-- Dashboard -->
  <section id="dashboard" class="container active">
    <h2>Welcome!</h2>
    <p>This is your personal health dashboard. Choose a section above to start logging and tracking.</p>
  </section>

  <!-- Meals -->
  <section id="meals" class="container">
    <h2>üçΩÔ∏è Meals</h2>
    <input id="meal-text" type="text" placeholder="Meal description">
    <button onclick="addMeal()">Add Meal</button>
    <h3>Recent Meals</h3>
    <div id="meals-list"></div>
  </section>

  <!-- Symptoms -->
  <section id="symptoms" class="container">
    <h2>ü§í Symptoms</h2>
    <input id="symptom-text" type="text" placeholder="Symptom">
    <input id="symptom-sev" type="number" min="1" max="10" placeholder="Severity 1-10">
    <textarea id="symptom-notes" placeholder="Notes..."></textarea>
    <button onclick="addSymptom()">Log Symptom</button>
    <h3>Recent Symptoms</h3>
    <div id="symptoms-list"></div>
  </section>

  <!-- Medications -->
  <section id="meds" class="container">
    <h2>üíä Medications</h2>
    <input id="med-name" type="text" placeholder="Medicine name">
    <input id="med-dose" type="text" placeholder="Dose">
    <input id="med-time" type="time">
    <button onclick="addMed()">Schedule Medication</button>
    <h3>Medication List</h3>
    <div id="meds-list"></div>
  </section>

  <!-- Lifestyle -->
  <section id="lifestyle" class="container">
    <h2>üèÉ Lifestyle</h2>
    <input id="sleep-hours" type="number" placeholder="Sleep hours">
    <input id="exercise-min" type="number" placeholder="Exercise minutes">
    <button onclick="addLifestyle()">Log Lifestyle</button>
    <h3>Lifestyle Logs</h3>
    <div id="lifestyle-list"></div>
  </section>

  <!-- Profile -->
  <section id="profile" class="container">
    <h2>üë§ Profile</h2>
    <input id="profile-name" type="text" placeholder="Name">
    <input id="profile-age" type="number" placeholder="Age">
    <input id="profile-allergies" type="text" placeholder="Allergies (comma-separated)">
    <button onclick="saveProfile()">Save Profile</button>
  </section>

  <!-- Suggestions -->
  <section id="suggestions" class="container">
    <h2>üí° Suggestions</h2>
    <div id="suggestions-list">Log meals or symptoms to see suggestions.</div>
  </section>

  <script>
    // Simple state
    const STORAGE_KEY = "health_tracker";
    let data = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");

    function save() { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); }

    function showPage(id) {
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      render();
    }

    // Meals
    function addMeal() {
      const txt = document.getElementById("meal-text").value;
      if (!txt) return alert("Enter meal description");
      if (!data.meals) data.meals = [];
      data.meals.push({ text: txt, time: new Date().toLocaleString() });
      document.getElementById("meal-text").value = "";
      save(); render();
    }
    function renderMeals() {
      const list = document.getElementById("meals-list");
      if (!list) return;
      list.innerHTML = "";
      (data.meals||[]).slice().reverse().forEach(m => {
        list.innerHTML += `<div class="list-item"><strong>${m.text}</strong><br><small>${m.time}</small></div>`;
      });
    }

    // Symptoms
    function addSymptom() {
      const t = document.getElementById("symptom-text").value;
      const s = document.getElementById("symptom-sev").value;
      const n = document.getElementById("symptom-notes").value;
      if (!t) return alert("Enter symptom");
      if (!data.symptoms) data.symptoms = [];
      data.symptoms.push({ text:t, severity:s, notes:n, time:new Date().toLocaleString() });
      document.getElementById("symptom-text").value="";
      document.getElementById("symptom-sev").value="";
      document.getElementById("symptom-notes").value="";
      save(); render();
    }
    function renderSymptoms() {
      const list = document.getElementById("symptoms-list");
      if (!list) return;
      list.innerHTML = "";
      (data.symptoms||[]).slice().reverse().forEach(s => {
        list.innerHTML += `<div class="list-item"><strong>${s.text}</strong> (sev: ${s.severity})<br>${s.notes}<br><small>${s.time}</small></div>`;
      });
    }

    // Medications
    function addMed() {
      const name=document.getElementById("med-name").value;
      const dose=document.getElementById("med-dose").value;
      const time=document.getElementById("med-time").value;
      if(!name) return alert("Enter medicine name");
      if(!data.meds) data.meds=[];
      data.meds.push({ name,dose,time,timestamp:new Date().toLocaleString() });
      document.getElementById("med-name").value="";
      document.getElementById("med-dose").value="";
      document.getElementById("med-time").value="";
      save(); render();
    }
    function renderMeds(){
      const list=document.getElementById("meds-list");
      if(!list) return;
      list.innerHTML="";
      (data.meds||[]).slice().reverse().forEach(m=>{
        list.innerHTML+=`<div class="list-item"><strong>${m.name}</strong> ${m.dose}<br><small>${m.time}</small></div>`;
      });
    }

    // Lifestyle
    function addLifestyle(){
      const s=document.getElementById("sleep-hours").value;
      const e=document.getElementById("exercise-min").value;
      if(!data.lifestyle) data.lifestyle=[];
      data.lifestyle.push({ sleep:s, exercise:e, time:new Date().toLocaleString() });
      document.getElementById("sleep-hours").value="";
      document.getElementById("exercise-min").value="";
      save(); render();
    }
    function renderLifestyle(){
      const list=document.getElementById("lifestyle-list");
      if(!list) return;
      list.innerHTML="";
      (data.lifestyle||[]).slice().reverse().forEach(l=>{
        list.innerHTML+=`<div class="list-item">Sleep: ${l.sleep}h, Exercise: ${l.exercise}min<br><small>${l.time}</small></div>`;
      });
    }

    // Profile
    function saveProfile(){
      const name=document.getElementById("profile-name").value;
      const age=document.getElementById("profile-age").value;
      const allergies=document.getElementById("profile-allergies").value.split(",");
      data.profile={ name, age, allergies };
      save(); alert("Profile saved!");
    }

    // Suggestions
    function renderSuggestions(){
      const box=document.getElementById("suggestions-list");
      if(!box) return;
      box.innerHTML="";
      let suggestions=[];
      // Example: allergy check
      if(data.profile && data.profile.allergies && data.meals){
        const lastMeal=data.meals[data.meals.length-1];
        if(lastMeal){
          data.profile.allergies.forEach(a=>{
            if(a && lastMeal.text.toLowerCase().includes(a.trim().toLowerCase())){
              suggestions.push("‚ö†Ô∏è Allergy Alert: Last meal may contain "+a);
            }
          });
        }
      }
      if(data.symptoms){
        data.symptoms.forEach(s=>{
          if(parseInt(s.severity)>=8) suggestions.push("üö® Severe symptom recorded: "+s.text);
        });
      }
      if(!suggestions.length) box.innerHTML="No suggestions yet.";
      else suggestions.forEach(s=>{ box.innerHTML+=`<div class="list-item">${s}</div>`; });
    }

    // Render all
    function render(){
      renderMeals();
      renderSymptoms();
      renderMeds();
      renderLifestyle();
      renderSuggestions();
    }

    window.onload=render;
  </script>
</body>
</html>
